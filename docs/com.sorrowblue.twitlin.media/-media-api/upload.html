<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8">
    <title>upload</title>
    <link href="../../../images/logo-icon.svg" rel="icon" type="image/svg">
    <script>var pathToRoot = "../../../";</script>
    <script type="text/javascript" src="../../../scripts/sourceset_dependencies.js" async="async"></script>
    <link href="../../../styles/style.css" rel="Stylesheet">
    <link href="../../../styles/logo-styles.css" rel="Stylesheet">
    <link href="../../../styles/jetbrains-mono.css" rel="Stylesheet">
    <link href="../../../styles/main.css" rel="Stylesheet">
    <script type="text/javascript" src="../../../scripts/clipboard.js" async="async"></script>
    <script type="text/javascript" src="../../../scripts/navigation-loader.js" async="async"></script>
    <script type="text/javascript" src="../../../scripts/platform-content-handler.js" async="async"></script>
    <script type="text/javascript" src="../../../scripts/main.js" async="async"></script>
  </head>
  <body>
    <div id="container">
      <div id="leftColumn">
        <div id="logo"></div>
        <div id="paneSearch"></div>
        <div id="sideMenu"></div>
      </div>
      <div id="main">
        <div id="leftToggler"><span class="icon-toggler"></span></div>
        <script type="text/javascript" src="../../../scripts/pages.js"></script>
        <script type="text/javascript" src="../../../scripts/main.js"></script>
        <div class="main-content" id="content" pageIds="com.sorrowblue.twitlin.media/MediaApi/upload/#kotlin.ByteArray?#kotlin.String?#com.sorrowblue.twitlin.media.MediaCategory#kotlin.collections.List[kotlin.String]?/PointingToDeclaration//-1332973998">
          <div class="navigation-wrapper" id="navigation-wrapper">
            <div class="breadcrumbs"><a href="../../index.html">docs</a>/<a href="../index.html">com.sorrowblue.twitlin.media</a>/<a href="index.html">MediaApi</a>/<a href="upload.html">upload</a></div>
            <div class="pull-right d-flex">
              <div class="filter-section" id="filter-section"><button class="platform-tag platform-selector common-like" data-active="" data-filter=":twitlin:dokkaHtml/commonMain">common</button></div>
              <div id="searchBar"></div>
            </div>
          </div>
          <div class="cover ">
            <h1 class="cover"><span>upload</span></h1>
          </div>
<div class="divergent-group" data-filterable-current=":twitlin:dokkaHtml/commonMain" data-filterable-set=":twitlin:dokkaHtml/commonMain"><div class="with-platform-tags"><span class="pull-right"></span></div>

  <div>
    <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-depenent-content" data-active="" data-togglable=":twitlin:dokkaHtml/commonMain"><div class="symbol monospace">abstract suspend fun <a href="upload.html">upload</a>(media: <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-byte-array/index.html">ByteArray</a>? = null, mediaData: <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html">String</a>? = null, mediaCategory: <a href="../-media-category/index.html">MediaCategory</a>, additionalOwners: <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html">List</a>&lt;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html">String</a>&gt;? = null): <a href="../../com.sorrowblue.twitlin.client/-response/index.html">Response</a>&lt;<a href="../-media-result/index.html">MediaResult</a>&gt;<span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div></div></div>
  </div>
<h3 class=""> Overview</h3><p class="paragraph">Use this endpoint to upload images to Twitter.</p><p class="paragraph">This endpoint returns a <a href="../-media-result/media-id.html">MediaResult.mediaId</a> by default and can optionally return a <a href="../-media-result/media-key.html">MediaResult.mediaKey</a> when a <span data-unresolved-link="com.sorrowblue.twitlin.media/MediaApi/mediaCategory/#/PointingToCallableParameters(-1)/">mediaCategory</span> is specified. These values are used by Twitter endpoints that accept images.</p><p class="paragraph">For example, a <a href="../-media-result/media-id.html">MediaResult.mediaId</a> value can be used to create a Tweet with an attached photo using the <a href="../../com.sorrowblue.twitlin.tweets.statuses/-statuses-api/update.html">StatusesApi.update</a> endpoint.</p><p class="paragraph">All <a href="https://developer.twitter.com/en/docs/ads/">Ads API endpoints</a> require a <a href="../-media-result/media-key.html">MediaResult.mediaKey</a>. For example, a <a href="../-media-result/media-key.html">MediaResult.mediaKey</a> value can be used to create a Draft Tweet with a photo using the AccountApi.draftTweets endpoint.</p><h3 class=""> Usage</h3><p class="paragraph">This is a simple image upload endpoint with a limited set of features. The preferred alternative is the chunked upload endpoint which supports both images and videos, provides better reliability, allows resumption of file uploads, and other important features. In the future, new features will only be supported for the chunked upload endpoint.</p><ul><li><p class="paragraph">See the <a href="https://developer.twitter.com/en/docs/media/upload-media/uploading-media/media-best-practices">Uploading media guide</a> for constraints and requirements on media files.</p></li><li><p class="paragraph">See the <a href="https://developer.twitter.com/en/docs/tutorials/uploading-media">Uploading Media tutorial</a> for step-by-step instructions on uploading an image.</p></li><li><p class="paragraph">Use the <a href="https://developer.twitter.com/en/docs/media/upload-media/api-reference/post-media-metadata-create">media metadata endpoint</a> to provide image alt text information.</p></li><li><p class="paragraph">Ensure the POST is a <code>multipart/form-data</code> request. Either upload the raw binary (<span data-unresolved-link="com.sorrowblue.twitlin.media/MediaApi/media/#/PointingToCallableParameters(-1)/">media</span> parameter) of the file, or its base64-encoded contents (<code>media_data</code> parameter). Use raw binary when possible, because base64 encoding results in larger file sizes.</p></li><li><p class="paragraph">The response provides a media identifier in the <a href="../-media-result/media-id.html">MediaResult.mediaId</a> (64-bit integer) and <a href="../-media-result/media-id-string.html">MediaResult.mediaIdString</a> (string) fields. Use the <a href="../-media-result/media-id-string.html">MediaResult.mediaIdString</a> provided in the API response from JavaScript and other languages that cannot accurately represent a long integer.</p></li><li><p class="paragraph">The returned <a href="../-media-result/media-id.html">MediaResult.mediaId</a> and <a href="../-media-result/media-key.html">MediaResult.mediaKey</a> are only valid for <a href="../-media-result/expires-after-secs.html">MediaResult.expiresAfterSecs</a> seconds. Any attempt to use either after this time period in other endpoints will result in an HTTP 4xx Bad Request.</p></li><li><p class="paragraph">The  field enables media to be uploaded as user A and then used to create Tweets as user B.</p></li><li><p class="paragraph">Please note that to upload videos or GIFs (<a href="../-media-category/-t-w-e-e-t_-v-i-d-e-o/index.html">MediaCategory.TWEET_VIDEO</a>, <a href="../-media-category/-a-m-p-l-i-f-y_-v-i-d-e-o/index.html">MediaCategory.AMPLIFY_VIDEO</a>, and <a href="../-media-category/-t-w-e-e-t_-g-i-f/index.html">MediaCategory.TWEET_GIF</a>), you need to use the <a href="https://developer.twitter.com/en/docs/media/upload-media/api-reference/post-media-upload-init">chunked upload end-point</a>.</p></li></ul><h4 class="">Return</h4><p class="paragraph">TODO</p><h2 class="">Parameters</h2><div data-togglable="Parameters"><div class="platform-hinted WithExtraAttributes" data-platform-hinted="data-platform-hinted" data-togglable="Parameters"><div class="content sourceset-depenent-content" data-active="" data-togglable=":twitlin:dokkaHtml/commonMain"><div data-togglable="Parameters"><div class="table" data-togglable="Parameters"><div class="table-row" data-filterable-current=":twitlin:dokkaHtml/commonMain" data-filterable-set=":twitlin:dokkaHtml/commonMain"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex">media</span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">The raw binary file content being uploaded. Cannot be used with <span data-unresolved-link="com.sorrowblue.twitlin.media/MediaApi/mediaData/#/PointingToCallableParameters(-1)/">mediaData</span>.</p></div></div></div></div></div><div class="table-row" data-filterable-current=":twitlin:dokkaHtml/commonMain" data-filterable-set=":twitlin:dokkaHtml/commonMain"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex">mediaData</span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">The base64-encoded chunk of media file. It must be &lt;= 5 MB and cannot be used with media. Use raw binary (<span data-unresolved-link="com.sorrowblue.twitlin.media/MediaApi/media/#/PointingToCallableParameters(-1)/">media</span> parameter) when possible.</p></div></div></div></div></div><div class="table-row" data-filterable-current=":twitlin:dokkaHtml/commonMain" data-filterable-set=":twitlin:dokkaHtml/commonMain"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex">mediaCategory</span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">The category that represents how the media will be used. This field is required when using the media with the Ads API.</p></div></div></div></div></div><div class="table-row" data-filterable-current=":twitlin:dokkaHtml/commonMain" data-filterable-set=":twitlin:dokkaHtml/commonMain"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex">additionalOwners</span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">A comma-separated list of user IDs to set as additional owners allowed to use the returned <a href="../-media-result/media-id.html">MediaResult.mediaId</a> in Tweets or Cards. Up to <code>100</code> additional owners may be specified.</p></div></div></div></div></div></div></div></div></div></div></div>
        </div>
        <div class="footer"><span class="go-to-top-icon"><a href="#content"></a></span><span>© 2020 Copyright</span><span class="pull-right"><span>Sponsored and developed by dokka</span><a href="https://github.com/Kotlin/dokka"><span class="padded-icon"></span></a></span></div>
      </div>
    </div>
  </body>
</html>

